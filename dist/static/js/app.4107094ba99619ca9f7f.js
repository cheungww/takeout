webpackJsonp([6],{"/vRa":function(t,s){},"1rpY":function(t,s){},"34+y":function(t,s){},"3Zko":function(t,s,e){"use strict";var i={props:{title:String}},a={render:function(){var t=this.$createElement,s=this._self._c||t;return s("header",{staticClass:"header"},[this._t("left"),this._v(" "),s("span",{staticClass:"header_title"},[s("span",{staticClass:"header_title_text ellipsis"},[this._v(this._s(this.title))])]),this._v(" "),this._t("right")],2)},staticRenderFns:[]};var n=e("VU/8")(i,a,!1,function(t){e("np6h")},null,null);s.a=n.exports},"47Ts":function(t,s){},ANTo:function(t,s){},DRGu:function(t,s){},Dk6t:function(t,s){},LWv2:function(t,s){},NHnr:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});e("y+mr");var i=e("3JdW"),a=e.n(i),n=e("7+uW"),o=e("AXdl"),c=e("Dd8w"),r=e.n(c),l=e("NYxO"),v={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"footer_guide"},[e("span",{staticClass:"guide_item",class:{on:"/msite"===t.$route.path},on:{click:function(s){t.goTo("/msite")}}},[t._m(0),t._v(" "),e("span",[t._v("外卖")])]),t._v(" "),e("a",{staticClass:"guide_item",class:{on:"/search"===t.$route.path},attrs:{href:"javascript:;"},on:{click:function(s){t.goTo("/search")}}},[t._m(1),t._v(" "),e("span",[t._v("搜索")])]),t._v(" "),e("a",{staticClass:"guide_item",class:{on:"/order"===t.$route.path},attrs:{href:"javascript:;"},on:{click:function(s){t.goTo("/order")}}},[t._m(2),t._v(" "),e("span",[t._v("订单")])]),t._v(" "),e("a",{staticClass:"guide_item",class:{on:"/profile"===t.$route.path},attrs:{href:"javascript:;"},on:{click:function(s){t.goTo("/profile")}}},[t._m(3),t._v(" "),e("span",[t._v("我的")])])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("span",{staticClass:"item_icon"},[s("i",{staticClass:"iconfont icon-waimai"})])},function(){var t=this.$createElement,s=this._self._c||t;return s("span",{staticClass:"item_icon"},[s("i",{staticClass:"iconfont icon-search"})])},function(){var t=this.$createElement,s=this._self._c||t;return s("span",{staticClass:"item_icon"},[s("i",{staticClass:"iconfont icon-dingdan"})])},function(){var t=this.$createElement,s=this._self._c||t;return s("span",{staticClass:"item_icon"},[s("i",{staticClass:"iconfont icon-geren"})])}]};var u=e("VU/8")({methods:{goTo:function(t){this.$router.replace(t)}}},v,!1,function(t){e("/vRa")},null,null).exports,p={mounted:function(){this.getAddress(),this.getUserInfo()},methods:r()({},Object(l.b)(["getAddress","getUserInfo"])),components:{FooterGuide:u}},d={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{attrs:{id:"app"}},[s("router-view"),this._v(" "),s("FooterGuide",{directives:[{name:"show",rawName:"v-show",value:this.$route.meta.showFooter,expression:"$route.meta.showFooter"}]})],1)},staticRenderFns:[]};var h=e("VU/8")(p,d,!1,function(t){e("47Ts")},null,null).exports,f=e("/ocq"),_=e("Xxa5"),m=e.n(_),C=e("exGp"),g=e.n(C),w={props:{alertText:String},methods:{closeTip:function(){this.$emit("closeTip")}}},y={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"alert_container"},[e("section",{staticClass:"tip_text_container"},[t._m(0),t._v(" "),e("p",{staticClass:"tip_text"},[t._v(t._s(t.alertText))]),t._v(" "),e("div",{staticClass:"confrim",on:{click:t.closeTip}},[t._v("确认")])])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip_icon"},[s("span"),this._v(" "),s("span")])}]};var A=e("VU/8")(w,y,!1,function(t){e("Dk6t")},"data-v-6498f88f",null).exports,x=e("fZjL"),S=e.n(x),k=e("//Fk"),b=e.n(k),T=e("mtWM"),P=e.n(T);function E(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET";return new b.a(function(i,a){var n=void 0;if("GET"===e){var o="";S()(s).forEach(function(t){o+=t+"="+s[t]+"&"}),""!==o&&(o=o.substring(0,o.lastIndexOf("&")),t=t+"?"+o),n=P.a.get(t)}else n=P.a.post(t,s);n.then(function(t){i(t.data)}).catch(function(t){a(t)})})}var I=function(t){return E("/api/position/"+t)},F=function(t,s){return E("/api/shops",{longitude:t,latitude:s})},U=function(t,s){return E("/api/search_shops",{geohash:t,keyword:s})},M=function(t,s){return E("/api/login_sms",{phone:t,code:s},"POST")},j={data:function(){return{loginWay:!1,computeTime:0,showPwd:!1,phone:"",code:"",name:"",pwd:"",captcha:"",alertText:"",alertShow:!1,baseUrl:"http://takeout.vigor666.com"}},computed:{rightPhone:function(){return/^1\d{10}$/.test(this.phone)}},methods:{getCode:function(){var t=this;return g()(m.a.mark(function s(){var e;return m.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(t.computeTime){s.next=7;break}return t.computeTime=30,t.intervalId=setInterval(function(){t.computeTime--,t.computeTime<=0&&clearInterval(t.intervalId)},1e3),s.next=5,E("/api/sendcode",{phone:t.phone});case 5:1===(e=s.sent).code&&(t.showAlert(e.msg),t.computeTime&&(t.computeTime=0,clearInterval(t.intervalId),t.intervalId=void 0));case 7:case"end":return s.stop()}},s,t)}))()},showAlert:function(t){this.alertShow=!0,this.alertText=t},login:function(){var t=this;return g()(m.a.mark(function s(){var e,i,a,n,o,c,r,l;return m.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(e=void 0,!t.loginWay){s.next=16;break}if(t.rightPhone,i=t.phone,a=t.code,t.rightPhone){s.next=8;break}return t.showAlert("手机号不正确"),s.abrupt("return");case 8:if(/^\d{6}$/.test(a)){s.next=11;break}return t.showAlert("验证必须是6位数字"),s.abrupt("return");case 11:return s.next=13,M(i,a);case 13:e=s.sent,s.next=33;break;case 16:if(n=t.name,o=t.pwd,c=t.captcha,t.name){s.next=22;break}return t.showAlert("用户名必须指定"),s.abrupt("return");case 22:if(t.pwd){s.next=27;break}return t.showAlert("密码必须指定"),s.abrupt("return");case 27:if(t.captcha){s.next=30;break}return t.showAlert("验证码必须指定"),s.abrupt("return");case 30:return s.next=32,E("/api/login_pwd",{name:(v={name:n,pwd:o,captcha:c}).name,pwd:v.pwd,captcha:v.captcha},"POST");case 32:e=s.sent;case 33:t.computeTime&&(t.computeTime=0,clearInterval(t.intervalId),t.intervalId=void 0),0===e.code?(r=e.data,t.$store.dispatch("recordUser",r),t.$router.replace("/profile")):(t.getCaptcha(),l=e.msg,t.showAlert(l));case 35:case"end":return s.stop()}var v},s,t)}))()},closeTip:function(){this.alertShow=!1,this.alertText=""},getCaptcha:function(){this.$refs.captcha.src=this.baseUrl+"/api/captcha?time="+Date.now()}},components:{AlertTip:A}},O={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("section",{staticClass:"loginContainer"},[e("div",{staticClass:"loginInner"},[e("div",{staticClass:"login_header"},[e("h2",{staticClass:"login_logo"},[t._v("外卖")]),t._v(" "),e("div",{staticClass:"login_header_title"},[e("a",{class:{on:t.loginWay},attrs:{href:"javascript:;"},on:{click:function(s){t.loginWay=!0}}},[t._v("短信登录")]),t._v(" "),e("a",{class:{on:!t.loginWay},attrs:{href:"javascript:;"},on:{click:function(s){t.loginWay=!1}}},[t._v("密码登录")])])]),t._v(" "),e("div",{staticClass:"login_content"},[e("form",{on:{submit:function(s){s.preventDefault(),t.login(s)}}},[e("div",{class:{on:t.loginWay}},[e("section",{staticClass:"login_message"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],attrs:{type:"tel",maxlength:"11",placeholder:"手机号"},domProps:{value:t.phone},on:{input:function(s){s.target.composing||(t.phone=s.target.value)}}}),t._v(" "),e("button",{staticClass:"get_verification",class:{right_phone:t.rightPhone},attrs:{disabled:!t.rightPhone},on:{click:function(s){s.preventDefault(),t.getCode(s)}}},[t._v("\n              "+t._s(t.computeTime>0?"已发送("+t.computeTime+"s)":"获取验证码")+"\n            ")])]),t._v(" "),e("section",{staticClass:"login_verification"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],attrs:{type:"tel",maxlength:"8",placeholder:"验证码"},domProps:{value:t.code},on:{input:function(s){s.target.composing||(t.code=s.target.value)}}})]),t._v(" "),t._m(0)]),t._v(" "),e("div",{class:{on:!t.loginWay}},[e("section",[e("section",{staticClass:"login_message"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",maxlength:"11",placeholder:"手机/邮箱/用户名"},domProps:{value:t.name},on:{input:function(s){s.target.composing||(t.name=s.target.value)}}})]),t._v(" "),e("section",{staticClass:"login_verification"},[t.showPwd?e("input",{directives:[{name:"model",rawName:"v-model",value:t.pwd,expression:"pwd"}],attrs:{type:"text",maxlength:"8",placeholder:"密码"},domProps:{value:t.pwd},on:{input:function(s){s.target.composing||(t.pwd=s.target.value)}}}):e("input",{directives:[{name:"model",rawName:"v-model",value:t.pwd,expression:"pwd"}],attrs:{type:"password",maxlength:"8",placeholder:"密码"},domProps:{value:t.pwd},on:{input:function(s){s.target.composing||(t.pwd=s.target.value)}}}),t._v(" "),e("div",{staticClass:"switch_button",class:t.showPwd?"on":"off",on:{click:function(s){t.showPwd=!t.showPwd}}},[e("div",{staticClass:"switch_circle",class:{right:t.showPwd}}),t._v(" "),e("span",{staticClass:"switch_text"},[t._v(t._s(t.showPwd?"abc":"..."))])])]),t._v(" "),e("section",{staticClass:"login_message"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.captcha,expression:"captcha"}],attrs:{type:"text",maxlength:"11",placeholder:"验证码"},domProps:{value:t.captcha},on:{input:function(s){s.target.composing||(t.captcha=s.target.value)}}}),t._v(" "),e("img",{ref:"captcha",staticClass:"get_verification",attrs:{src:t.baseUrl+"/api/captcha",alt:"captcha"},on:{click:t.getCaptcha}})])]),t._v(" "),t._m(1)]),t._v(" "),e("button",{staticClass:"login_submit"},[t._v("登录")])]),t._v(" "),e("a",{staticClass:"about_us",attrs:{href:"javascript:;"}},[t._v("关于我们")])]),t._v(" "),e("a",{staticClass:"go_back",attrs:{href:"javascript:"},on:{click:function(s){t.$router.back()}}},[e("i",{staticClass:"iconfont icon-jiantou2"})])]),t._v(" "),e("AlertTip",{directives:[{name:"show",rawName:"v-show",value:t.alertShow,expression:"alertShow"}],attrs:{alertText:t.alertText},on:{closeTip:t.closeTip}})],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("section",{staticClass:"login_hint",staticStyle:{color:"red"}},[this._v("\n            温馨提示：暂未开通短信登录服务\n            "),s("a",{attrs:{href:"javascript:;"}},[this._v("《用户服务协议》")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("section",{staticClass:"login_hint"},[this._v("\n            温馨提示：未注册外卖帐号的手机号，登录时将自动注册，且代表已同意\n            "),s("a",{attrs:{href:"javascript:;"}},[this._v("《用户服务协议》")])])}]};var Y=e("VU/8")(j,O,!1,function(t){e("DRGu")},null,null).exports,B={data:function(){return{supportClasses:["activity-green","activity-red","activity-orange"],shopShow:!1,supportShow:!1}},computed:r()({},Object(l.d)(["info"])),methods:{toggleShopShow:function(){this.shopShow=!this.shopShow},toggleSupportShow:function(){this.supportShow=!this.supportShow}}},W={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"shop-header"},[e("nav",{staticClass:"shop-nav",style:{backgroundImage:"url("+t.info.bgImg+")"}},[e("a",{staticClass:"back",on:{click:function(s){t.$router.back()}}},[e("i",{staticClass:"iconfont icon-arrow_left"})])]),t._v(" "),e("div",{staticClass:"shop-content",on:{click:t.toggleShopShow}},[e("img",{staticClass:"content-image",attrs:{src:t.info.avatar}}),t._v(" "),e("div",{staticClass:"header-content"},[e("h2",{staticClass:"content-title"},[t._m(0),t._v(" "),e("span",{staticClass:"content-name"},[t._v(t._s(t.info.name))]),t._v(" "),e("i",{staticClass:"content-icon"})]),t._v(" "),e("div",{staticClass:"shop-message"},[e("span",{staticClass:"shop-message-detail"},[t._v(t._s(t.info.score))]),t._v(" "),e("span",{staticClass:"shop-message-detail"},[t._v("月售"+t._s(t.info.sellCount)+"单")]),t._v(" "),e("span",{staticClass:"shop-message-detail"},[t._v("\n          "+t._s(t.info.description)+"\n          "),e("span",[t._v("约"+t._s(t.info.deliveryTime)+"分钟")])]),t._v(" "),e("span",{staticClass:"shop-message-detail"},[t._v("距离"+t._s(t.info.distance))])])])]),t._v(" "),t.info.supports?e("div",{staticClass:"shop-header-discounts",on:{click:t.toggleSupportShow}},[e("div",{staticClass:"discounts-left"},[e("div",{staticClass:"activity",class:t.supportClasses[t.info.supports[0].type]},[e("span",{staticClass:"content-tag"},[e("span",{staticClass:"mini-tag"},[t._v(t._s(t.info.supports[0].name))])]),t._v(" "),e("span",{staticClass:"activity-content ellipsis"},[t._v(t._s(t.info.supports[0].content))])])]),t._v(" "),e("div",{staticClass:"discounts-right"},[t._v("\n      "+t._s(t.info.supports.length)+"个优惠\n    ")])]):t._e(),t._v(" "),e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.shopShow,expression:"shopShow"}],staticClass:"shop-brief-modal"},[e("div",{staticClass:"brief-modal-content"},[e("h2",{staticClass:"content-title"},[e("span",{staticClass:"content-tag"},[e("span",{staticClass:"mini-tag"},[t._v("品牌")])]),t._v(" "),e("span",{staticClass:"content-name"},[t._v(t._s(t.info.name))])]),t._v(" "),e("ul",{staticClass:"brief-modal-msg"},[e("li",[e("h3",[t._v(t._s(t.info.score))]),t._v(" "),e("p",[t._v("评分")])]),t._v(" "),e("li",[e("h3",[t._v(t._s(t.info.sellCount)+"单")]),t._v(" "),e("p",[t._v("月售")])]),t._v(" "),e("li",[e("h3",[t._v(t._s(t.info.description))]),t._v(" "),e("p",[t._v("约"+t._s(t.info.deliveryTime)+"分钟")])]),t._v(" "),e("li",[e("h3",[t._v(t._s(t.info.deliveryPrice)+"元")]),t._v(" "),e("p",[t._v("配送费用")])]),t._v(" "),e("li",[e("h3",[t._v(t._s(t.info.distance))]),t._v(" "),e("p",[t._v("距离")])])]),t._v(" "),e("h3",{staticClass:"brief-modal-title"},[e("span",[t._v("公告")])]),t._v(" "),e("div",{staticClass:"brief-modal-notice"},[t._v("\n          "+t._s(t.info.bulletin)+"\n        ")]),t._v(" "),e("div",{staticClass:"mask-footer",on:{click:t.toggleShopShow}},[e("span",{staticClass:"iconfont icon-close"})])]),t._v(" "),e("div",{staticClass:"brief-modal-cover"})])]),t._v(" "),e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.supportShow,expression:"supportShow"}],staticClass:"activity-sheet"},[e("div",{staticClass:"activity-sheet-content"},[e("h2",{staticClass:"activity-sheet-title"},[t._v("优惠活动")]),t._v(" "),e("ul",{staticClass:"list"},t._l(t.info.supports,function(s,i){return e("li",{key:i,staticClass:"activity-item",class:t.supportClasses[s.type]},[e("span",{staticClass:"content-tag"},[e("span",{staticClass:"mini-tag"},[t._v(t._s(s.name))])]),t._v(" "),e("span",{staticClass:"activity-content"},[t._v(t._s(s.content))])])})),t._v(" "),e("div",{staticClass:"activity-sheet-close",on:{click:t.toggleSupportShow}},[e("span",{staticClass:"iconfont icon-close"})])]),t._v(" "),e("div",{staticClass:"activity-sheet-cover"})])])],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("span",{staticClass:"content-tag"},[s("span",{staticClass:"mini-tag"},[this._v("品牌")])])}]};var R={mounted:function(){this.$store.dispatch("getShopInfo")},components:{ShopHeader:e("VU/8")(B,W,!1,function(t){e("QGgy")},"data-v-388dd426",null).exports}},D={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",[s("ShopHeader"),this._v(" "),s("div",{staticClass:"tab"},[s("div",{staticClass:"tab-item"},[s("router-link",{attrs:{to:"/shop/goods",replace:""}},[this._v("点餐")])],1),this._v(" "),s("div",{staticClass:"tab-item"},[s("router-link",{attrs:{to:"/shop/ratings",replace:""}},[this._v("评价")])],1),this._v(" "),s("div",{staticClass:"tab-item"},[s("router-link",{attrs:{to:"/shop/info",replace:""}},[this._v("商家")])],1)]),this._v(" "),s("keep-alive",[s("router-view")],1)],1)},staticRenderFns:[]};var V=e("VU/8")(R,D,!1,function(t){e("1rpY")},null,null).exports,H=e("GQaK"),Q={props:{food:Object},methods:{updateFoodCount:function(t){this.$store.dispatch("updateFoodCount",{isAdd:t,food:this.food})}}},G={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"cartcontrol"},[e("transition",{attrs:{name:"move"}},[t.food.count?e("div",{staticClass:"iconfont icon-remove_circle_outline",on:{click:function(s){s.stopPropagation(),t.updateFoodCount(!1)}}}):t._e()]),t._v(" "),t.food.count?e("div",{staticClass:"cart-count"},[t._v(t._s(t.food.count))]):t._e(),t._v(" "),e("div",{staticClass:"iconfont icon-add_circle",on:{click:function(s){s.stopPropagation(),t.updateFoodCount(!0)}}})],1)},staticRenderFns:[]};var X=e("VU/8")(Q,G,!1,function(t){e("S2tV")},null,null).exports,L={props:{food:Object},data:function(){return{isShow:!1}},methods:{toggleShow:function(){this.isShow=!this.isShow}},components:{CartControl:X}},Z={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return t.isShow?e("div",{staticClass:"food"},[e("div",{staticClass:"food-content"},[e("div",{staticClass:"image-header"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.food.image,expression:"food.image"}]}),t._v(" "),e("p",{staticClass:"foodpanel-desc"},[t._v(t._s(t.food.info))]),t._v(" "),e("div",{staticClass:"back",on:{click:t.toggleShow}},[e("i",{staticClass:"iconfont icon-arrow_left"})])]),t._v(" "),e("div",{staticClass:"content"},[e("h1",{staticClass:"title"},[t._v(t._s(t.food.name))]),t._v(" "),e("div",{staticClass:"detail"},[e("span",{staticClass:"sell-count"},[t._v("月售"+t._s(t.food.sellCount)+"份")]),t._v(" "),e("span",{staticClass:"rating"},[t._v("好评率"+t._s(t.food.rating)+"%")])]),t._v(" "),e("div",{staticClass:"price"},[e("span",{staticClass:"now"},[t._v("￥"+t._s(t.food.price))]),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:t.food.oldPrice,expression:"food.oldPrice"}],staticClass:"old"},[t._v("￥"+t._s(t.food.oldPrice))])]),t._v(" "),e("div",{staticClass:"cartcontrol-wrapper"},[e("CartControl",{attrs:{food:t.food}})],1)])]),t._v(" "),e("div",{staticClass:"food-cover",on:{click:t.toggleShow}})]):t._e()},staticRenderFns:[]};var N=e("VU/8")(L,Z,!1,function(t){e("LWv2")},"data-v-6f339734",null).exports,J=(e("OgVB"),e("/Lyv")),q=e.n(J),z={data:function(){return{isShow:!1}},computed:r()({},Object(l.d)(["cartFoods","info"]),Object(l.c)(["totalCount","totalPrice"]),{payClass:function(){return this.totalPrice>=this.info.minPrice?"enough":"not-enough"},payText:function(){var t=this.totalPrice,s=this.info.minPrice;return 0===t?"￥"+s+"元起送":t<s?"还差￥"+(s-t)+"元起送":"结算"},listShow:function(){var t=this;return 0===this.totalCount?(this.isShow=!1,!1):(this.isShow&&this.$nextTick(function(){t.scroll?t.scroll.refresh():t.scroll=new H.a(".list-content",{click:!0})}),this.isShow)}}),methods:{toggleShow:function(){this.totalCount>0&&(this.isShow=!this.isShow)},clearCart:function(){var t=this;q.a.confirm("确定清空购物车吗?").then(function(s){t.$store.dispatch("clearCart")},function(){})}},components:{CartControl:X}},K={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"shopcart"},[e("div",{staticClass:"content"},[e("div",{staticClass:"content-left",on:{click:t.toggleShow}},[e("div",{staticClass:"logo-wrapper"},[e("div",{staticClass:"logo",class:{highlight:t.totalCount}},[e("i",{staticClass:"iconfont icon-shopping_cart",class:{highlight:t.totalCount}})]),t._v(" "),t.totalCount?e("div",{staticClass:"num"},[t._v(t._s(t.totalCount))]):t._e()]),t._v(" "),e("div",{staticClass:"price",class:{highlight:t.totalCount}},[t._v("￥"+t._s(t.totalPrice))]),t._v(" "),e("div",{staticClass:"desc"},[t._v("另需配送费￥"+t._s(t.info.deliveryPrice)+"元")])]),t._v(" "),e("div",{staticClass:"content-right"},[e("div",{staticClass:"pay",class:t.payClass},[t._v("\n          "+t._s(t.payText)+"\n        ")])])]),t._v(" "),e("transition",{attrs:{name:"move"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.listShow,expression:"listShow"}],staticClass:"shopcart-list"},[e("div",{staticClass:"list-header"},[e("h1",{staticClass:"title"},[t._v("购物车")]),t._v(" "),e("span",{staticClass:"empty",on:{click:t.clearCart}},[t._v("清空")])]),t._v(" "),e("div",{staticClass:"list-content"},[e("ul",t._l(t.cartFoods,function(s,i){return e("li",{key:i,staticClass:"food"},[e("span",{staticClass:"name"},[t._v(t._s(s.name))]),t._v(" "),e("div",{staticClass:"price"},[e("span",[t._v("￥"+t._s(s.price))])]),t._v(" "),e("div",{staticClass:"cartcontrol-wrapper"},[e("CartControl",{attrs:{food:s}})],1)])}))])])])],1),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.listShow,expression:"listShow"}],staticClass:"list-mask",on:{click:t.toggleShow}})])},staticRenderFns:[]};var $=e("VU/8")(z,K,!1,function(t){e("ri+w")},"data-v-5e565900",null).exports,tt={data:function(){return{scrollY:0,tops:[],food:{}}},mounted:function(){var t=this;this.$store.dispatch("getShopGoods",function(){t.$nextTick(function(){t._initScroll(),t._initTops()})})},computed:r()({},Object(l.d)(["goods"]),{currentIndex:function(){var t=this.scrollY,s=this.tops;return s.findIndex(function(e,i){return t>=e&&t<s[i+1]})}}),methods:{_initScroll:function(){var t=this;new H.a(".menu-wrapper",{click:!0}),this.foodsScroll=new H.a(".foods-wrapper",{probeType:2,click:!0}),this.foodsScroll.on("scroll",function(s){var e=s.x,i=s.y;console.log(e,i),t.scrollY=Math.abs(i)}),this.foodsScroll.on("scrollEnd",function(s){var e=s.x,i=s.y;console.log("scrollEnd",e,i),t.scrollY=Math.abs(i)})},_initTops:function(){var t=[],s=0;t.push(s);var e=this.$refs.foodsUl.getElementsByClassName("food-list-hook");Array.prototype.slice.call(e).forEach(function(e){s+=e.clientHeight,t.push(s)}),this.tops=t,console.log(t)},clickMenuItem:function(t){var s=this.tops[t];this.scrollY=s,this.foodsScroll.scrollTo(0,-s,300)},showFood:function(t){this.food=t,this.$refs.food.toggleShow()}},components:{CartControl:X,Food:N,ShopCart:$}},st={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"goods"},[e("div",{staticClass:"menu-wrapper"},[e("ul",t._l(t.goods,function(s,i){return e("li",{key:i,staticClass:"menu-item",class:{current:i===t.currentIndex},on:{click:function(s){t.clickMenuItem(i)}}},[e("span",{staticClass:"text bottom-border-1px"},[s.icon?e("img",{staticClass:"icon",attrs:{src:s.icon}}):t._e(),t._v("\n            "+t._s(s.name)+"\n          ")])])}))]),t._v(" "),e("div",{staticClass:"foods-wrapper"},[e("ul",{ref:"foodsUl"},t._l(t.goods,function(s,i){return e("li",{key:i,staticClass:"food-list-hook"},[e("h1",{staticClass:"title"},[t._v(t._s(s.name))]),t._v(" "),e("ul",t._l(s.foods,function(s,i){return e("li",{key:i,staticClass:"food-item bottom-border-1px",on:{click:function(e){t.showFood(s)}}},[e("div",{staticClass:"icon"},[e("img",{attrs:{width:"57",height:"57",src:s.icon}})]),t._v(" "),e("div",{staticClass:"content"},[e("h2",{staticClass:"name"},[t._v(t._s(s.name))]),t._v(" "),e("p",{staticClass:"desc"},[t._v(t._s(s.description))]),t._v(" "),e("div",{staticClass:"extra"},[e("span",{staticClass:"count"},[t._v("月售"+t._s(s.sellCount)+"份")]),t._v(" "),e("span",[t._v("好评率"+t._s(s.rating)+"%")])]),t._v(" "),e("div",{staticClass:"price"},[e("span",{staticClass:"now"},[t._v("￥"+t._s(s.price))]),t._v(" "),s.oldPrice?e("span",{staticClass:"old"},[t._v("￥"+t._s(s.oldPrice))]):t._e()]),t._v(" "),e("div",{staticClass:"cartcontrol-wrapper"},[e("CartControl",{attrs:{food:s}})],1)])])}))])}))]),t._v(" "),e("ShopCart")],1),t._v(" "),e("Food",{ref:"food",attrs:{food:t.food}})],1)},staticRenderFns:[]};var et=e("VU/8")(tt,st,!1,function(t){e("Uok5")},null,null).exports,it=e("o7co"),at={data:function(){return{onlyShowText:!0,selectType:2}},mounted:function(){var t=this;this.$store.dispatch("getShopRatings",function(){t.$nextTick(function(){new H.a(t.$refs.ratings,{click:!0})})})},computed:r()({},Object(l.d)(["info","ratings"]),Object(l.c)(["positiveSize"]),{filterRatings:function(){var t=this.ratings,s=this.onlyShowText,e=this.selectType;return t.filter(function(t){var i=t.rateType,a=t.text;return(2===e||e===i)&&(!s||a.length>0)})}}),methods:{setSelectType:function(t){this.selectType=t},toggleOnlyShowText:function(){this.onlyShowText=!this.onlyShowText}},components:{Star:it.a}},nt={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{ref:"ratings",staticClass:"ratings"},[e("div",{staticClass:"ratings-content"},[e("div",{staticClass:"overview"},[e("div",{staticClass:"overview-left"},[e("h1",{staticClass:"score"},[t._v(t._s(t.info.score))]),t._v(" "),e("div",{staticClass:"title"},[t._v("综合评分")]),t._v(" "),e("div",{staticClass:"rank"},[t._v("高于周边商家99%")])]),t._v(" "),e("div",{staticClass:"overview-right"},[e("div",{staticClass:"score-wrapper"},[e("span",{staticClass:"title"},[t._v("服务态度")]),t._v(" "),e("Star",{attrs:{score:t.info.serviceScore,size:36}}),t._v(" "),e("span",{staticClass:"score"},[t._v(t._s(t.info.serviceScore))])],1),t._v(" "),e("div",{staticClass:"score-wrapper"},[e("span",{staticClass:"title"},[t._v("商品评分")]),t._v(" "),e("Star",{attrs:{score:t.info.foodScore,size:36}}),t._v(" "),e("span",{staticClass:"score"},[t._v(t._s(t.info.foodScore))])],1),t._v(" "),e("div",{staticClass:"delivery-wrapper"},[e("span",{staticClass:"title"},[t._v("送达时间")]),t._v(" "),e("span",{staticClass:"delivery"},[t._v(t._s(t.info.deliveryTime)+"分钟")])])])]),t._v(" "),e("div",{staticClass:"split"}),t._v(" "),e("div",{staticClass:"ratingselect"},[e("div",{staticClass:"rating-type border-1px"},[e("span",{staticClass:"block positive",class:{active:2===t.selectType},on:{click:function(s){t.setSelectType(2)}}},[t._v("\n          全部"),e("span",{staticClass:"count"},[t._v(t._s(t.ratings.length))])]),t._v(" "),e("span",{staticClass:"block positive",class:{active:0===t.selectType},on:{click:function(s){t.setSelectType(0)}}},[t._v("\n          满意"),e("span",{staticClass:"count"},[t._v(t._s(t.positiveSize))])]),t._v(" "),e("span",{staticClass:"block negative",class:{active:1===t.selectType},on:{click:function(s){t.setSelectType(1)}}},[t._v("\n          不满意"),e("span",{staticClass:"count"},[t._v(t._s(t.ratings.length-t.positiveSize))])])]),t._v(" "),e("div",{staticClass:"switch",class:{on:t.onlyShowText},on:{click:t.toggleOnlyShowText}},[e("span",{staticClass:"iconfont icon-check_circle"}),t._v(" "),e("span",{staticClass:"text"},[t._v("只看有内容的评价")])])]),t._v(" "),e("div",{staticClass:"rating-wrapper"},[e("ul",t._l(t.filterRatings,function(s,i){return e("li",{key:i,staticClass:"rating-item"},[e("div",{staticClass:"avatar"},[e("img",{attrs:{width:"28",height:"28",src:s.avatar}})]),t._v(" "),e("div",{staticClass:"content"},[e("h1",{staticClass:"name"},[t._v(t._s(s.username))]),t._v(" "),e("div",{staticClass:"star-wrapper"},[e("Star",{attrs:{score:s.score,size:24}}),t._v(" "),e("span",{staticClass:"delivery"},[t._v(t._s(s.deliveryTime))])],1),t._v(" "),e("p",{staticClass:"text"},[t._v(t._s(s.text))]),t._v(" "),e("div",{staticClass:"recommend"},[e("span",{staticClass:"iconfont",class:0===s.rateType?"icon-thumb_up":"icon-thumb_down"}),t._v(" "),t._l(s.recommend,function(s,i){return e("span",{key:i,staticClass:"item"},[t._v(t._s(s))])})],2),t._v(" "),e("div",{staticClass:"time"},[t._v(t._s(t._f("date-format")(s.rateTime)))])])])}))])])])},staticRenderFns:[]};var ot=e("VU/8")(at,nt,!1,function(t){e("ANTo")},null,null).exports,ct={data:function(){return{supportClasses:["activity-green","activity-red","activity-orange"]}},computed:r()({},Object(l.d)(["info"])),mounted:function(){this.info.pics&&this._initScroll()},methods:{_initScroll:function(){new H.a(".shop-info");var t=this.$refs.picsUl,s=this.info.pics.length;t.style.width=126*s-6+"px",new H.a(".pic-wrapper",{scrollX:!0})}},watch:{info:function(){var t=this;this.$nextTick(function(){t._initScroll()})}}},rt={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"shop-info"},[e("div",{staticClass:"info-content"},[e("section",{staticClass:"section"},[e("h3",{staticClass:"section-title"},[t._v("配送信息")]),t._v(" "),e("div",{staticClass:"delivery"},[e("div",[e("span",{staticClass:"delivery-icon"},[t._v(t._s(t.info.description))]),t._v(" "),e("span",[t._v("由商家配送提供配送，约"+t._s(t.info.deliveryTime)+"分钟送达，距离"+t._s(t.info.distance))])]),t._v(" "),e("div",{staticClass:"delivery-money"},[t._v("配送费￥"+t._s(t.info.deliveryPrice))])])]),t._v(" "),e("div",{staticClass:"split"}),t._v(" "),e("section",{staticClass:"section"},[e("h3",{staticClass:"section-title"},[t._v("活动与服务")]),t._v(" "),e("div",{staticClass:"activity"},t._l(t.info.supports,function(s,i){return e("div",{key:i,staticClass:"activity-item",class:t.supportClasses[s.type]},[e("span",{staticClass:"content-tag"},[e("span",{staticClass:"mini-tag"},[t._v(t._s(s.name))])]),t._v(" "),e("span",{staticClass:"activity-content"},[t._v(t._s(s.content))])])}))]),t._v(" "),e("div",{staticClass:"split"}),t._v(" "),e("section",{staticClass:"section"},[e("h3",{staticClass:"section-title"},[t._v("商家实景")]),t._v(" "),e("div",{staticClass:"pic-wrapper"},[e("ul",{ref:"picsUl",staticClass:"pic-list"},t._l(t.info.pics,function(t,s){return e("li",{key:s,staticClass:"pic-item"},[e("img",{attrs:{width:"120",height:"90",src:t}})])}))])]),t._v(" "),e("div",{staticClass:"split"}),t._v(" "),e("section",{staticClass:"section"},[e("h3",{staticClass:"section-title"},[t._v("商家信息")]),t._v(" "),e("ul",{staticClass:"detail"},[e("li",[e("span",{staticClass:"bold"},[t._v("品类")]),t._v(" "),e("span",[t._v(t._s(t.info.category))])]),t._v(" "),e("li",[e("span",{staticClass:"bold"},[t._v("商家电话")]),t._v(" "),e("span",[t._v(t._s(t.info.phone))])]),t._v(" "),e("li",[e("span",{staticClass:"bold"},[t._v("地址")]),t._v(" "),e("span",[t._v(t._s(t.info.address))])]),t._v(" "),e("li",[e("span",{staticClass:"bold"},[t._v("营业时间")]),t._v(" "),e("span",[t._v(t._s(t.info.workTime))])])])])])])},staticRenderFns:[]};var lt=e("VU/8")(ct,rt,!1,function(t){e("pZBT")},null,null).exports,vt=(e("34+y"),e("X+yh")),ut=e.n(vt),pt=e("3Zko"),dt={computed:r()({},Object(l.d)(["userInfo"])),methods:{logout:function(){var t=this;q.a.confirm("确认退出吗?").then(function(s){t.$store.dispatch("logout"),t.$router.back(),ut()("登出完成")},function(t){console.log("点击了取消")})}},components:{HeaderTop:pt.a}},ht={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("section",{staticClass:"userInfo"},[e("HeaderTop",{attrs:{title:"账户信息"}},[e("a",{staticClass:"back",attrs:{slot:"left"},on:{click:function(s){t.$router.back()}},slot:"left"},[e("i",{staticClass:"iconfont icon-arrow_left"})])]),t._v(" "),e("section",{staticClass:"profile-info"},[t._m(0),t._v(" "),e("section",{staticClass:"headportrait headportraitwo info-router"},[e("h2",[t._v("用户名")]),t._v(" "),e("div",{staticClass:"headportrait-div"},[e("p",[t._v(t._s(t.userInfo.name))]),t._v(" "),t._m(1)])]),t._v(" "),t._m(2),t._v(" "),e("section",{staticClass:"bind-phone"},[t._v("账号绑定")]),t._v(" "),t._m(3),t._v(" "),e("section",{staticClass:"bind-phone"},[t._v("安全设置")]),t._v(" "),t._m(4),t._v(" "),e("section",{staticStyle:{"margin-top":"10px"}},[e("mt-button",{staticStyle:{width:"100%"},attrs:{type:"danger"},on:{click:t.logout}},[t._v("退出登陆")])],1)])],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("section",{staticClass:"headportrait"},[s("h2",[this._v("头像")]),this._v(" "),s("div",{staticClass:"headportrait-div"},[s("img",{staticClass:"headportrait-div-top",attrs:{src:"//elm.cangdu.org/img/default.jpg"}}),this._v(" "),s("span",{staticClass:"arrow"},[s("i",{staticClass:"iconfont icon-jiantou1"})])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("span",{staticClass:"arrow"},[s("i",{staticClass:"iconfont icon-jiantou1"})])},function(){var t=this.$createElement,s=this._self._c||t;return s("section",{staticClass:"headportrait headportraitwo headportraithree info-router"},[s("h2",[this._v("收货地址")]),this._v(" "),s("div",{staticClass:"headportrait-div"},[s("span",{staticClass:"arrow"},[s("i",{staticClass:"iconfont icon-jiantou1"})])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("section",{staticClass:"info-router headportrait headportraitwo headportraithree"},[s("h2",[s("img",{staticStyle:{display:"inline-block","margin-right":"0.4rem"},attrs:{src:"data:image/png;base64,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",alt:""}}),this._v("手机\n      ")]),this._v(" "),s("div",{staticClass:"headportrait-div"},[s("p"),this._v(" "),s("span",{staticClass:"arrow"},[s("i",{staticClass:"iconfont icon-jiantou1"})])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("section",{staticClass:"headportrait headportraitwo headportraithree info-router"},[s("h2",[this._v("登录密码")]),this._v(" "),s("div",{staticClass:"headportrait-div"},[s("p",[this._v("修改")]),this._v(" "),s("span",{staticClass:"arrow"},[s("i",{staticClass:"iconfont icon-jiantou1"})])])])}]};var ft=e("VU/8")(dt,ht,!1,function(t){e("W90h")},null,null).exports;n.default.use(f.a);var _t,mt=new f.a({routes:[{path:"/msite",component:function(){return e.e(0).then(e.bind(null,"Xqun"))},meta:{showFooter:!0}},{path:"/search",component:function(){return e.e(4).then(e.bind(null,"ZtLn"))},meta:{showFooter:!0}},{path:"/order",component:function(){return e.e(2).then(e.bind(null,"0aFZ"))},meta:{showFooter:!0}},{path:"/profile",component:function(){return e.e(3).then(e.bind(null,"PaqO"))},meta:{showFooter:!0}},{path:"/userinfo",component:ft},{path:"/login",component:Y},{path:"/shop",component:V,children:[{path:"/shop/goods",component:et},{path:"/shop/ratings",component:ot},{path:"/shop/info",component:lt},{path:"",redirect:"/shop/goods"}]},{path:"/navshops",component:function(){return e.e(1).then(e.bind(null,"S5Os"))}},{path:"/",redirect:"/msite"}]}),Ct=e("bOdI"),gt=e.n(Ct),wt=(_t={},gt()(_t,"receive_address",function(t,s){var e=s.address;t.address=e}),gt()(_t,"receive_categorys",function(t,s){var e=s.categorys;t.categorys=e}),gt()(_t,"receive_shops",function(t,s){var e=s.shops;t.shops=e}),gt()(_t,"receive_user_info",function(t,s){var e=s.userInfo;t.userInfo=e}),gt()(_t,"reset_user_info",function(t){t.userInfo={}}),gt()(_t,"receive_info",function(t,s){var e=s.info;t.info=e}),gt()(_t,"receive_ratings",function(t,s){var e=s.ratings;t.ratings=e}),gt()(_t,"receive_goods",function(t,s){var e=s.goods;t.goods=e}),gt()(_t,"increment_food_count",function(t,s){var e=s.food;e.count?e.count++:(n.default.set(e,"count",1),t.cartFoods.push(e))}),gt()(_t,"decrement_food_count",function(t,s){var e=s.food;e.count&&(e.count--,0===e.count&&t.cartFoods.splice(t.cartFoods.indexOf(e),1))}),gt()(_t,"clear_cart",function(t){t.cartFoods.forEach(function(t){return t.count=0}),t.cartFoods=[]}),gt()(_t,"receive_search_shops",function(t,s){var e=s.searchShops;t.searchShops=e}),_t),yt={getAddress:function(t){var s=this,e=t.commit,i=t.state;return g()(m.a.mark(function t(){var a,n,o;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=i.latitude+","+i.longitude,t.next=3,I(a);case 3:0===(n=t.sent).code&&(o=n.data,e("receive_address",{address:o}));case 5:case"end":return t.stop()}},t,s)}))()},getCategorys:function(t){var s=this,e=t.commit;return g()(m.a.mark(function t(){var i,a;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E("/api/index_category");case 2:0===(i=t.sent).code&&(a=i.data,e("receive_categorys",{categorys:a}));case 4:case"end":return t.stop()}},t,s)}))()},getShops:function(t,s){var e=this,i=t.commit,a=t.state;return g()(m.a.mark(function t(){var n,o,c,r;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.longitude,o=a.latitude,t.next=3,F(n,o);case 3:0===(c=t.sent).code&&(r=c.data,i("receive_shops",{shops:r}),s&&s());case 5:case"end":return t.stop()}},t,e)}))()},recordUser:function(t,s){(0,t.commit)("receive_user_info",{userInfo:s})},getUserInfo:function(t){var s=this,e=t.commit;return g()(m.a.mark(function t(){var i,a;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E("/api/userinfo");case 2:0===(i=t.sent).code&&(a=i.data,e("receive_user_info",{userInfo:a}));case 4:case"end":return t.stop()}},t,s)}))()},logout:function(t){var s=this,e=t.commit;return g()(m.a.mark(function t(){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E("/api/logout");case 2:0===t.sent.code&&e("reset_user_info");case 4:case"end":return t.stop()}},t,s)}))()},getShopInfo:function(t){var s=this,e=t.commit;return g()(m.a.mark(function t(){var i,a;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E("/api/shop/info");case 2:0===(i=t.sent).code&&(a=i.data,e("receive_info",{info:a}));case 4:case"end":return t.stop()}},t,s)}))()},getShopRatings:function(t,s){var e=this,i=t.commit;return g()(m.a.mark(function t(){var a,n;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E("/api/shop/ratings");case 2:0===(a=t.sent).code&&(n=a.data,i("receive_ratings",{ratings:n}),s&&s());case 4:case"end":return t.stop()}},t,e)}))()},getShopGoods:function(t,s){var e=this,i=t.commit;return g()(m.a.mark(function t(){var a,n;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E("/api/shop/goods");case 2:0===(a=t.sent).code&&(n=a.data,i("receive_goods",{goods:n}),s&&s());case 4:case"end":return t.stop()}},t,e)}))()},updateFoodCount:function(t,s){var e=t.commit,i=s.isAdd,a=s.food;e(i?"increment_food_count":"decrement_food_count",{food:a})},clearCart:function(t){(0,t.commit)("clear_cart")},searchShops:function(t,s){var e=this,i=t.commit,a=t.state;return g()(m.a.mark(function t(){var n,o,c;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.latitude+","+a.longitude,t.next=3,U(n,s);case 3:0===(o=t.sent).code&&(c=o.data,i("receive_search_shops",{searchShops:c}));case 5:case"end":return t.stop()}},t,e)}))()}};n.default.use(l.a);var At=new l.a.Store({state:{latitude:40.10038,longitude:116.36867,address:{},categorys:[],shops:[],userInfo:{},goods:[],ratings:[],info:{},cartFoods:[],searchShops:[]},mutations:wt,actions:yt,getters:{totalCount:function(t){return t.cartFoods.reduce(function(t,s){return t+s.count},0)},totalPrice:function(t){return t.cartFoods.reduce(function(t,s){return t+s.count*s.price},0)},positiveSize:function(t){return t.ratings.reduce(function(t,s){return t+(0===s.rateType?1:0)},0)}}}),xt=e("ZmhX"),St=e.n(xt),kt=e("Eoz/"),bt=e.n(kt);n.default.filter("date-format",function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH:mm:ss";return bt()(t,s)}),n.default.component(a.a.name,a.a),n.default.use(o.a,{loading:St.a}),new n.default({el:"#app",render:function(t){return t(h)},router:mt,store:At})},OgVB:function(t,s){},QGgy:function(t,s){},S2tV:function(t,s){},Uok5:function(t,s){},W90h:function(t,s){},ZmhX:function(t,s,e){t.exports=e.p+"static/img/loading.c1486d8.gif"},hHMm:function(t,s){},joTY:function(t,s){},np6h:function(t,s){},o7co:function(t,s,e){"use strict";var i={props:{score:Number,size:Number},computed:{starClasses:function(){for(var t=this.score,s=[],e=Math.floor(t),i=0;i<e;i++)s.push("on");for(10*t-10*e>=5&&s.push("half");s.length<5;)s.push("off");return s}}},a={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"star",class:"star-"+this.size},this._l(this.starClasses,function(t,e){return s("span",{key:e,staticClass:"star-item",class:t})}))},staticRenderFns:[]};var n=e("VU/8")(i,a,!1,function(t){e("hHMm")},null,null);s.a=n.exports},pZBT:function(t,s){},"ri+w":function(t,s){},"y+mr":function(t,s){}},["NHnr"]);
//# sourceMappingURL=app.4107094ba99619ca9f7f.js.map